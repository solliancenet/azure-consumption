## M Queries

So how does it work? Well first you have to generate the two files (`accounts.csv` and `tokens.csv`) using the PowerShell provided. Once you have that, you can build out the Power BI reports.

You need to call the Azure Consumption APIs (currently preview). But you also need to be able to gather all the information across your tenants and subscription in order to do that. You could certainly statically do it, but that's boring, so let's do it dynamically! You are going to create several data source queries:

- AzureSubscriptions
- AllConsumption
- ResourceGroups
- BillingPeriod
- AzureTenants
- Budgets
- Accounts
- TenantId
- Tokens

## Azure Subscriptions

## AllConsumption

## ResourceGroups

## BillingPeriod

## AzureTenants

## Budgets

## Accounts

## TenantId

## Tokems